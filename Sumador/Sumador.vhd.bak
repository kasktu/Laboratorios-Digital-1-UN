library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_arith.all;
use ieee.std_logic_unsigned.all;


entity sumador is

	port
	(
		-- Input ports -- Sumador 1
		SR	: in  std_logic;
		
		-- Input ports -- Sumador 1
		a1,b1	: in  std_logic;
		
		-- Input ports -- Sumador 2
		a2,b2	: in  std_logic;
		
		-- Input ports -- Sumador 3
		a3,b3	: in  std_logic;
		
	
		-- Output ports -- Sumador 1
		Sout1	: out  std_logic;
		
		-- Output ports -- Sumador 1
		Sout2	: out  std_logic;
		
		-- Output ports -- Sumador 1
		Sout3, Sout4	: out  std_logic
	);
end sumador;

architecture estructural of sumador is
signal Cin1,Cout1,Cout2,Cin2,Cin3,Cout3,Cout4 : std_logic;

begin
	Cin1 <= SR;

	Sout1 <= not((not a1 xor (SR xor not b1)) xor Cin1);
	
	Cout1 <= (Cin1 and (not a1 or (SR xor not b1))) or (not a1 and (SR xor not b1)); -- El Cout1 es el Cin2 
	
	Cin2 <= Cout1;
	
	Sout2 <= not(((not a2 xor (SR xor not b2)) xor Cin2));
	
	Cout2 <= (Cin2 and (not a2 or (SR xor not b2))) or (not a2 and (SR xor not b2)); -- El Cout2 es el Cin3

	Cin3 <= Cout2;
	
	Sout3 <= not((not a3 xor (SR xor not b3)) xor Cin3);

	Cout3 <= ((Cin3 and (not a3 or (SR xor not b3))) or (not a3 and (SR xor not b3))) ;
	
	Sout4 <= not ((Cout3 and not(SR)) or ((not Cout3) and SR));
	
	


end estructural;